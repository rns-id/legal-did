# Anchor 版本自动切换
if [ -f .anchor-version ]; then
  avm use $(cat .anchor-version) 2>/dev/null || echo "⚠️  请安装 avm: cargo install --git https://github.com/coral-xyz/anchor avm --locked"
fi

# Solana 版本自动切换
if [ -f .solana-version ]; then
  solana-install init $(cat .solana-version) 2>/dev/null || echo "⚠️  Solana 版本切换失败"
fi

# Node.js 版本自动切换 (nvm)
if [ -f .nvmrc ] && command -v nvm &> /dev/null; then
  nvm use 2>/dev/null || nvm install
fi
